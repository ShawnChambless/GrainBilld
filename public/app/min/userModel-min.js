var mongoose=require("mongoose"),bcrypt=require("bcryptjs"),userSchema=new mongoose.Schema({name:{type:String},email:{type:String,unique:!0,index:!0,trim:!0},password:{type:String}});userSchema.pre("save",function(e){var r=this;if(!r.isModified("password"))return e();var s=bcrypt.genSaltSync(10),o=bcrypt.hashSync(r.password,s);return r.password=o,e(null,r)}),userSchema.methods.verifyPassword=function(e){var r=this;return bcrypt.compareSync(e,r.password)},module.exports=mongoose.model("userSchema",userSchema);