var gulp=require("gulp"),jade=require("gulp-jade"),sass=require("gulp-sass"),uglify=require("gulp-uglify"),watch=require("gulp-watch"),webserver=require("gulp-webserver"),bulkSass=require("gulp-cssimport"),plumber=require("gulp-plumber"),autoprefixer=require("gulp-autoprefixer"),paths={jade:["public/app/**/*.jade"],sass:["public/styles/main.sass"],scripts:["public/app/**/*.js"]};gulp.task("jade",function(){return gulp.src(paths.jade).pipe(plumber()).pipe(jade({pretty:!0})).pipe(gulp.dest("./public/production/html"))}),gulp.task("jadeIndex",function(){return gulp.src("./*.jade").pipe(plumber()).pipe(jade({pretty:!0})).pipe(gulp.dest("./"))}),gulp.task("sass",function(){return gulp.src(paths.sass).pipe(plumber()).pipe(bulkSass()).pipe(sass({outputStyle:"expanded"})).pipe(autoprefixer("last 2 version","safari 5","ie 8","ie 9","opera 12.1")).pipe(gulp.dest("./public/styles"))}),gulp.task("compress",function(){return gulp.src(paths.scripts).pipe(plumber()).pipe(uglify()).pipe(gulp.dest("./public/production/minifiedJS"))}),gulp.task("webserver",function(){gulp.src("./").pipe(webserver({livereload:!0,open:!0,port:1337,fallback:"index.html"}))}),gulp.task("watch",function(){gulp.watch(paths.jade,["jade"]),gulp.watch("index.jade",["jadeIndex"]),gulp.watch("./public/styles/modules/**/*.sass",["sass"]),gulp.watch(paths.scripts,["compress"]),console.log("Watching")}),gulp.task("default",["jade","jadeIndex","sass","compress","watch","webserver"]);